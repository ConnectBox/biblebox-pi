<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Prepare a release - 022621</title><link href="Making%20A%20ConnectBox%20on%20RPi_files/navigation.css" rel="stylesheet" type="text/css"/><link href="Making%20A%20ConnectBox%20on%20RPi_files/document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="Making%20A%20ConnectBox%20on%20RPi_files/part1.htm">Next &gt;</a></p><h1 style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Connect Box - Preparing a release</h1><p class="s1" style="padding-top: 15pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Jim Adams - April 25, 2020 <span class="s2">- This summary document created with input from material originally published by Edwin Steele, Nov 7, 2012 and my build experiences during January 2020.</span></p><p class="s1" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Updated - May 8, 2020 <span class="s2">- Fresh environment setup on 2015 MacBook Pro running Catalina - Note that this uses latest versions of Virtual Box (6.1.6) and Vagrant (2.2.8). </span>Updated - May 26, 2020 <span class="s2">- addition to step 12; also added additional info on a couple of useful tools at the end of the document.</span></p><p class="s1" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Updated - February 26, 2021 <span class="s2">- Major rewrite… Added instructions to include how to make an RPi based build environment. Reformat document to split build instructions for MacBook and RPi based build environments. Include NEO and RPi image build instructions within the two build environments.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="toc">&nbsp;</p><div class="toc"><a class="toc0" href="Making%20A%20ConnectBox%20on%20RPi_files/part1.htm">CONTENTS:</a><a class="toc1" href="Making%20A%20ConnectBox%20on%20RPi_files/part2.htm">Section 1: - Background</a><a class="toc1" href="Making%20A%20ConnectBox%20on%20RPi_files/part3.htm">Section 3: - Building a NEO or RPi image in a Mac environment Section 4: - Creating a Raspberry Pi based build environment Section 5: - Building a NEO or RPi image in an RPi environment Section 6: - Shrinking the image</a><a class="toc0" href="Making%20A%20ConnectBox%20on%20RPi_files/part4.htm">SECTION 1: Background</a><a class="toc1" href="Making%20A%20ConnectBox%20on%20RPi_files/part5.htm">Typographical notes</a><a class="toc0" href="Making%20A%20ConnectBox%20on%20RPi_files/part6.htm">Section 2: Creating a Mac Based Build Environment</a><a class="toc0" href="Making%20A%20ConnectBox%20on%20RPi_files/part7.htm">Section 3:</a><a class="toc1" href="Making%20A%20ConnectBox%20on%20RPi_files/part8.htm">Burn a Base Image on the uSD Card</a><a class="toc2" href="Making%20A%20ConnectBox%20on%20RPi_files/part9.htm">Notes:</a><a class="toc2" href="Making%20A%20ConnectBox%20on%20RPi_files/part10.htm">• Where there are diﬀerences between building a NEO image and an RPi image, we will preface the step number with &quot;N&quot; (NEO) or &quot;R&quot; (RPi). Where there is no diﬀerence, the step number will be shown without a prefaced letter.</a><a class="toc1" href="Making%20A%20ConnectBox%20on%20RPi_files/part11.htm">Enable Password-less SSH login to Target Machine</a><a class="toc2" href="Making%20A%20ConnectBox%20on%20RPi_files/part12.htm">This step will boot up the target machine (NEO or RPi) with the uSD inserted. We will then make edits to the target machine environment to enable login as user “root” via ssh without password (ie, Keys).</a><a class="toc0" href="Making%20A%20ConnectBox%20on%20RPi_files/part13.htm">Section 4: Creating a Raspberry Pi Build Environment</a><a class="toc1" href="Making%20A%20ConnectBox%20on%20RPi_files/part14.htm">The following steps detail setting up the Build Environment on a Raspberry Pi. Specifically, I used a RPi4B with 4 GB of ram, but this process should work with an RPi3B+.</a><a class="toc0" href="Making%20A%20ConnectBox%20on%20RPi_files/part15.htm">Section 5:</a><a class="toc1" href="Making%20A%20ConnectBox%20on%20RPi_files/part16.htm">Burn a Base Image on the uSD Card</a><a class="toc2" href="Making%20A%20ConnectBox%20on%20RPi_files/part17.htm">Notes:</a><a class="toc2" href="Making%20A%20ConnectBox%20on%20RPi_files/part18.htm">• Where there are diﬀerences between building a NEO image and an RPi image, we will preface the step number with &quot;N&quot; (NEO) or &quot;R&quot; (RPi). Where there is no diﬀerence, the step number will be shown without a prefaced letter.</a><a class="toc1" href="Making%20A%20ConnectBox%20on%20RPi_files/part19.htm">Enable Password-less SSH login to Target Machine</a><a class="toc2" href="Making%20A%20ConnectBox%20on%20RPi_files/part20.htm">This step will boot up the target machine (NEO or RPi) with the uSD inserted. We will then make edits to the target machine environment to enable login as user “root” via ssh without password (ie, Keys).</a><a class="toc0" href="Making%20A%20ConnectBox%20on%20RPi_files/part21.htm">Section 6: Shrinking the uSD Image</a><a class="toc1" href="Making%20A%20ConnectBox%20on%20RPi_files/part22.htm">APPENDIX - Edwin’s original document</a><a class="toc2" href="Making%20A%20ConnectBox%20on%20RPi_files/part23.htm">Once-oﬀ steps</a><a class="toc2" href="Making%20A%20ConnectBox%20on%20RPi_files/part24.htm">Release Machine Setup (automated)</a><a class="toc2" href="Making%20A%20ConnectBox%20on%20RPi_files/part25.htm">Release Machine Setup (manual)</a><a class="toc2" href="Making%20A%20ConnectBox%20on%20RPi_files/part26.htm">Per-build</a></div><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="Making%20A%20ConnectBox%20on%20RPi_files/part1.htm">Next &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
